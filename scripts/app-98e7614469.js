"use strict";function TreeNode(e,n,o){if(null==e||null==e)throw new Error("Missing required property id");if(null==n||null==n)throw new Error("Missing required property description");this.id=e,this.description=n,this.children=[],this.expanded=!0,o&&(this.aditionalInfo=o)}function TreeNodeFactory(){return TreeNode}angular.module("app",["pascalprecht.translate","tmh.dynamicLocale","ui.router","ngAnimate"]),angular.module("app").factory("TreeNodeFactory",TreeNodeFactory),TreeNode.prototype.addChild=function(e){if(null==e||!(e instanceof TreeNode))throw new Error("Invalid parameter for function addChild");return(e.parent=this).children.push(e),this},TreeNode.prototype.__filter=function(e,n){return n.id.toLowerCase().includes(e)||n.description.toLowerCase().includes(e)||n.children.some(this.__filter.bind(this,e))},TreeNode.prototype.filter=function(e){return this.__filter(e.toLowerCase(),this)},TreeNode.prototype.toggle=function(){this.expanded=!this.expanded},TreeNode.prototype.expandChildren=function(n){this.expanded=null==n||null==n?!this.expanded:n,this.children.forEach(function(e){return e.expandChildren(n)})},TreeNode.prototype.isRootNode=function(){return null==this.parent||null==this.parent},TreeNode.prototype.selfDelete=function(){var n=this;if(this.parent){var e=this.parent.children.findIndex(function(e){return e===n});this.parent.children.splice(e,1),this.parent=null}this.children.forEach(function(e){return null==e.parent}),this.children=null},angular.module("ngLocale",[],["$provide",function(e){e.value("$locale",{DATETIME_FORMATS:{AMPMS:["ДП","ПП"],DAY:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],ERANAMES:["до Рождества Христова","от Рождества Христова"],ERAS:["до н. э.","н. э."],FIRSTDAYOFWEEK:0,MONTH:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],SHORTDAY:["вс","пн","вт","ср","чт","пт","сб"],SHORTMONTH:["янв.","февр.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],STANDALONEMONTH:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d MMMM y 'г'.",longDate:"d MMMM y 'г'.",medium:"d MMM y 'г'. H:mm:ss",mediumDate:"d MMM y 'г'.",mediumTime:"H:mm:ss",short:"dd.MM.y H:mm",shortDate:"dd.MM.y",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"₽",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"ru",localeID:"ru",pluralCat:function(e,r){var n=0|e,o=function(e,n){var o,t,d=r;void 0===d&&(d=Math.min((o=e,-1==(t=(o+="").indexOf("."))?0:o.length-t-1),3));var i=Math.pow(10,d);return{v:d,f:(e*i|0)%i}}(e);return 0==o.v&&n%10==1&&n%100!=11?"one":0==o.v&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?"few":0==o.v&&n%10==0||0==o.v&&5<=n%10&&n%10<=9||0==o.v&&11<=n%100&&n%100<=14?"many":"other"}})}]),angular.module("ngLocale",[],["$provide",function(e){e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en",localeID:"en",pluralCat:function(e,r){var n=0|e,o=function(e,n){var o,t,d=r;void 0===d&&(d=Math.min((o=e,-1==(t=(o+="").indexOf("."))?0:o.length-t-1),3));var i=Math.pow(10,d);return{v:d,f:(e*i|0)%i}}(e);return 1==n&&0==o.v?"one":"other"}})}]),function(){function e(e,n,o,t,d){var i=this,r=d;function a(){var e=document.querySelectorAll(".tooltipped");M.Tooltip.init(e,{enterDelay:300})}function l(n){null==i.selectedNode&&i.productTree.forEach(function(e){return e.expandChildren(n)}),i.selectedNode.expandChildren(n)}function c(){M.updateTextFields(),M.textareaAutoResize(document.querySelector("#nodeaditionalinfo"))}function s(){i.modalInstance.close(),"edit"==i.nodeFormAction&&(i.nodeForm={})}function u(e){var n=e.id&&3<e.id.length,o=e.description&&3<e.description.length;return n&&o}i.productTree=[],i.selectedNode=null,i.nodeFilter="",i.nodeForm={},i.modalInstace=null,i.switchLanguage=function(e){o.use(e)},i.selectNode=function(e){i.selectedNode=i.selectedNode==e?null:e},i.isNodeSelected=function(e){return i.selectedNode===e},i.expandChildren=function(){l(!0)},i.collapseChildren=function(){l(!1)},i.deleteCurrentNode=function(){if(i.selectedNode.isRootNode()){var e=i.productTree.findIndex(function(e){return e===i.selectedNode});i.productTree.splice(e,1)}i.selectedNode.selfDelete(),i.selectedNode=i.productTree[0]||[]},i.openNodeFormModal=function(e,n){if(i.nodeFormAction=n||"create","edit"==i.nodeFormAction){if(null==i.selectedNode)return void o("home.editErrorNoNodeSelected").then(function(e){return M.toast({html:e,displayLength:2e3})});i.nodeForm={id:i.selectedNode.id,description:i.selectedNode.description,aditionalInfo:i.selectedNode.aditionalInfo}}i.modalInstance.open(),t(c,0)},i.closeNodeFormModal=s,i.submitNodeFormModal=function(){if(!u(i.nodeForm))return;"create"==i.nodeFormAction&&function(e){var n=new r(e.id,e.description,e.aditionalInfo);if(null==i.selectedNode)return i.productTree.push(n);i.selectedNode.addChild(n)}(i.nodeForm);"edit"==i.nodeFormAction&&function(e){if(!u(i.nodeForm))return;Object.assign(i.selectedNode,e)}(i.nodeForm);i.nodeForm={},s()},function(){var e=new r("confec","Campos Confecções").addChild(new r("berma","Bermudas")),n=new r("calca","Calças").addChild(new r("calca01","Sarja (m)")).addChild(new r("calca02","Social"));e.addChild(n);var o=new r("camisas","Camisas").addChild(new r("camisa01","Esporte")).addChild(new r("camisa02","Gola Polo")),t=new r("camisa03","Grife").addChild(new r("grife01","Dudalina"));o.addChild(t),o.addChild(new r("camisa04","Social")),e.addChild(o),e.addChild(new r("terno","Terno")),i.productTree=[e],i.selectedNode=e}(),t(a,0),i.modalInstance=M.Modal.init(document.querySelector("#nodeFormModal"))}e.$inject=["$log","$rootScope","$translate","$timeout","TreeNodeFactory"],angular.module("app").component("home",{controller:e,controllerAs:"vm",templateUrl:"app/home/home.view.html"})}(),function(){function e(o,e,n,t){n.$on("$translateChangeSuccess",function(e,n){t.set(n.language),o[0].documentElement.setAttribute("lang",n.language)}),e.debug("App run block end")}e.$inject=["$document","$log","$rootScope","tmhDynamicLocale"],angular.module("app").run(e)}(),function(){function e(e,n){e.state("home",{url:"/",component:"home"}),n.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("app").config(e)}(),angular.module("app").constant("SAMPLE_CONSTANT","Sample constant"),function(){function e(e,n,o,t){e.html5Mode(!0),n.debugEnabled(!0),o.useStaticFilesLoader({prefix:"/locales/",suffix:".json"}).preferredLanguage("en").fallbackLanguage("en").useSanitizeValueStrategy("escape").useMissingTranslationHandlerLog(),t.localeLocationPattern("/locales/angular-locale_{{locale}}.js").defaultLocale("en")}e.$inject=["$locationProvider","$logProvider","$translateProvider","tmhDynamicLocaleProvider"],angular.module("app").config(e)}(),angular.module("app").run(["$templateCache",function(e){e.put("app/home/home.view.html",'<h1>Treasy Dev Warriors Challenge</h1><div class=row><div class="col s4"><div class=card><div class=card-content><div class=card-title>{{ \'home.productsTreeTitle\' | translate }}</div><div class=row><div class="col s6 icon-group left"><i class=material-icons ng-click="vm.openNodeFormModal($event, \'create\')">add</i> <i class=material-icons ng-click="vm.openNodeFormModal($event, \'edit\')">edit</i> <i class=material-icons ng-click=vm.deleteCurrentNode()>delete</i></div><div class="col s6 icon-group right"><i class="material-icons medium" ng-click=vm.expandChildren()>expand_more</i> <i class="material-icons medium" ng-click=vm.collapseChildren()>expand_less</i></div></div><div class=input-field><input type=text name=nodeFilter id=nodeFilter ng-model=vm.nodeFilter placeholder="{{ \'home.productsFilterInputPlaceholder\' | translate }}"></div><div class=root-node ng-repeat="node in vm.productTree" ng-include="\'app/treenode/treenode.html\'"></div></div></div></div><div class="col s8"><div class="card fluid">Content</div></div></div><div id=nodeFormModal class=modal><div class=modal-content><h3 class=modal-title>{{ (vm.nodeFormAction == \'edit\' ? \'home.editProductNodeTitle\' : \'home.newProductNodeTitle\') | translate }}</h3><div class=row><form class="col s12"><div class=row><div class="input-field col s12"><input type=text id=node-id class=validate ng-model=vm.nodeForm.id ng-disabled="vm.nodeFormAction == \'edit\'" required> <label for=node-id>{{ \'home.newProductIdLabel\' | translate }}</label> <span class=helper-text data-error="{{\'home.errorRequiredField\' | translate}}">{{ \'home.newProductIdPlaceholder\' | translate }}</span></div></div><div class=row><div class="input-field col s12"><input type=text id=node-description class=validate ng-model=vm.nodeForm.description required> <label for=node-description>{{ \'home.newProductDescriptionLabel\' | translate }}</label> <span class=helper-text data-error="{{\'home.errorRequiredField\' | translate}}">{{ \'home.newProductDescriptionPlaceholder\' | translate }}</span></div></div><div class=row><div class="input-field col s12"><textarea id=nodeaditionalinfo class=materialize-textarea ng-model=vm.nodeForm.aditionalInfo></textarea> <label for=nodeaditionalinfo>{{ \'home.newProductAditionalInfoLabel\' | translate }}</label></div></div></form></div></div><div class=modal-footer><button class="waves-effect waves-light btn" ng-click=vm.submitNodeFormModal()>{{ (vm.nodeFormAction == \'edit\' ? \'home.editProductButton\' : \'home.newProductButtonCreate\') | translate }}</button></div></div>'),e.put("app/treenode/treenode.html",'<div class=tree-node ng-show=node.filter(vm.nodeFilter) ng-class="node.expanded ? \'expanded\' :\'collapsed\'"><div class=node-content ng-class="{\'selected\': vm.isNodeSelected(node)}"><div ng-click=node.toggle() class=node-toggle ng-if="node.children.length > 0"></div><div class="node-link tooltipped" ng-click=vm.selectNode(node) data-position=right data-tooltip="{{node.id}} - {{node.description}} {{node.aditionalInfo}}">{{node.description}}</div></div><div class=node-children ng-include src="\'app/treenode/treenode.html\'" class=children ng-repeat="node in node.children"></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-98e7614469.js.map
