"use strict";function TreeNode(e,n,o){if(null==e||null==e)throw new Error("Missing required property id");if(null==n||null==n)throw new Error("Missing required property description");this.id=e,this.description=n,this.children=[],this.expanded=!0,o&&(this.aditionalInfo=o)}function TreeNodeFactory(){return TreeNode}angular.module("app",["pascalprecht.translate","tmh.dynamicLocale","ui.router","ngAnimate"]),angular.module("app").factory("TreeNodeFactory",TreeNodeFactory),TreeNode.prototype.addChild=function(e){if(null==e||!(e instanceof TreeNode))throw new Error("Invalid parameter for function addChild");return(e.parent=this).children.push(e),this},TreeNode.prototype.__filter=function(e,n){return n.id.toLowerCase().includes(e)||n.description.toLowerCase().includes(e)||n.children.some(this.__filter.bind(this,e))},TreeNode.prototype.filter=function(e){return this.__filter(e.toLowerCase(),this)},TreeNode.prototype.toggle=function(){this.expanded=!this.expanded},TreeNode.prototype.expandChildren=function(n){this.expanded=null==n||null==n?!this.expanded:n,this.children.forEach(function(e){return e.expandChildren(n)})},TreeNode.prototype.isRootNode=function(){return null==this.parent||null==this.parent},TreeNode.prototype.selfDelete=function(){var n=this;if(this.parent){var e=this.parent.children.findIndex(function(e){return e===n});this.parent.children.splice(e,1),this.parent=null}this.children.forEach(function(e){return null==e.parent}),this.children=null},angular.module("ngLocale",[],["$provide",function(e){e.value("$locale",{DATETIME_FORMATS:{AMPMS:["ДП","ПП"],DAY:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],ERANAMES:["до Рождества Христова","от Рождества Христова"],ERAS:["до н. э.","н. э."],FIRSTDAYOFWEEK:0,MONTH:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],SHORTDAY:["вс","пн","вт","ср","чт","пт","сб"],SHORTMONTH:["янв.","февр.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],STANDALONEMONTH:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d MMMM y 'г'.",longDate:"d MMMM y 'г'.",medium:"d MMM y 'г'. H:mm:ss",mediumDate:"d MMM y 'г'.",mediumTime:"H:mm:ss",short:"dd.MM.y H:mm",shortDate:"dd.MM.y",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"₽",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"ru",localeID:"ru",pluralCat:function(e,r){var n=0|e,o=function(e,n){var o,d,i=r;void 0===i&&(i=Math.min((o=e,-1==(d=(o+="").indexOf("."))?0:o.length-d-1),3));var t=Math.pow(10,i);return{v:i,f:(e*t|0)%t}}(e);return 0==o.v&&n%10==1&&n%100!=11?"one":0==o.v&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?"few":0==o.v&&n%10==0||0==o.v&&5<=n%10&&n%10<=9||0==o.v&&11<=n%100&&n%100<=14?"many":"other"}})}]),angular.module("ngLocale",[],["$provide",function(e){e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en",localeID:"en",pluralCat:function(e,r){var n=0|e,o=function(e,n){var o,d,i=r;void 0===i&&(i=Math.min((o=e,-1==(d=(o+="").indexOf("."))?0:o.length-d-1),3));var t=Math.pow(10,i);return{v:i,f:(e*t|0)%t}}(e);return 1==n&&0==o.v?"one":"other"}})}]),function(){function e(e,n,i,t,o){var r=this,a=o;function d(n){null==r.selectedNode&&r.productTree.forEach(function(e){return e.expandChildren(n)}),r.selectedNode.expandChildren(n)}function l(){return document.querySelector("#nodeFormModal")}function c(){l().classList.add("hidden"),"edit"==r.nodeFormAction&&(r.nodeForm={})}function s(e){var n=e.id&&3<e.id.length,o=e.description&&3<e.description.length;return n&&o}r.productTree=[],r.selectedNode=null,r.nodeFilter="",r.nodeForm={},r.switchLanguage=function(e){i.use(e)},r.selectNode=function(e){r.selectedNode=r.selectedNode==e?null:e},r.isNodeSelected=function(e){return r.selectedNode===e},r.expandChildren=function(){d(!0)},r.collapseChildren=function(){d(!1)},r.deleteCurrentNode=function(){if(r.selectedNode.isRootNode()){var e=r.productTree.findIndex(function(e){return e===r.selectedNode});r.productTree.splice(e,1)}r.selectedNode.selfDelete(),r.selectedNode=r.productTree[0]||[]},r.openNodeFormModal=function(e,n){var o=e.currentTarget;if(r.nodeFormAction=n||"create","edit"==r.nodeFormAction){if(null==r.selectedNode)return void i("home.editErrorNoNodeSelected").then(function(e,n){var o=document.createElement("span");o.setAttribute("class","toast error"),o.innerText=n,document.body.appendChild(o),new Popper(e,o,{placement:"right"}),t(function(){o.parentNode.removeChild(o)},1e3)}.bind(this,o));r.nodeForm={id:r.selectedNode.id,description:r.selectedNode.description,aditionalInfo:r.selectedNode.aditionalInfo}}var d=l();d.classList.remove("hidden"),new Popper(o,d,{placement:"right"})},r.closeNodeFormModal=c,r.submitNodeFormModal=function(){if(!s(r.nodeForm))return;"create"==r.nodeFormAction&&function(e){var n=new a(e.id,e.description,e.aditionalInfo);if(null==r.selectedNode)return r.productTree.push(n);r.selectedNode.addChild(n)}(r.nodeForm);"edit"==r.nodeFormAction&&function(e){if(!s(r.nodeForm))return;Object.assign(r.selectedNode,e)}(r.nodeForm);r.nodeForm={},c()},function(){var e=new a("confec","Campos Confecções").addChild(new a("berma","Bermudas")),n=new a("calca","Calças").addChild(new a("calca01","Sarja (m)")).addChild(new a("calca02","Social"));e.addChild(n);var o=new a("camisas","Camisas").addChild(new a("camisa01","Esporte")).addChild(new a("camisa02","Gola Polo")),d=new a("camisa03","Grife").addChild(new a("grife01","Dudalina"));o.addChild(d),o.addChild(new a("camisa04","Social")),e.addChild(o),e.addChild(new a("terno","Terno")),r.productTree=[e],r.selectedNode=e}()}e.$inject=["$log","$rootScope","$translate","$timeout","TreeNodeFactory"],angular.module("app").component("home",{controller:e,controllerAs:"vm",templateUrl:"app/home/home.view.html"})}(),function(){function e(o,e,n,d){n.$on("$translateChangeSuccess",function(e,n){d.set(n.language),o[0].documentElement.setAttribute("lang",n.language)}),e.debug("App run block end")}e.$inject=["$document","$log","$rootScope","tmhDynamicLocale"],angular.module("app").run(e)}(),function(){function e(e,n){e.state("home",{url:"/",component:"home"}),n.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("app").config(e)}(),angular.module("app").constant("SAMPLE_CONSTANT","Sample constant"),function(){function e(e,n,o,d){e.html5Mode(!0),n.debugEnabled(!0),o.useStaticFilesLoader({prefix:"/locales/",suffix:".json"}).preferredLanguage("en").fallbackLanguage("en").useSanitizeValueStrategy("escape").useMissingTranslationHandlerLog(),d.localeLocationPattern("/locales/angular-locale_{{locale}}.js").defaultLocale("en")}e.$inject=["$locationProvider","$logProvider","$translateProvider","tmhDynamicLocaleProvider"],angular.module("app").config(e)}(),angular.module("app").run(["$templateCache",function(e){e.put("app/home/home.view.html",'<h1>Treasy Dev Warriors Challenge</h1><div class=container><div class=row><div class=col-sm-4><div class="card fluid"><div class=section><h3>{{ \'home.productsTreeTitle\' | translate }}</h3></div><div class="section no-padding"><div class=row><div class="col-sm-6 icon-group left"><i class=material-icons ng-click="vm.openNodeFormModal($event, \'create\')">add</i> <i class=material-icons ng-click="vm.openNodeFormModal($event, \'edit\')">edit</i> <i class=material-icons ng-click=vm.deleteCurrentNode()>delete</i></div><div class="col-sm-6 icon-group right"><i class=material-icons ng-click=vm.expandChildren()>expand_more</i> <i class=material-icons ng-click=vm.collapseChildren()>expand_less</i></div></div><div class="input-group fluid no-margin"><input type=text name=nodeFilter id=nodeFilter ng-model=vm.nodeFilter class=fluid placeholder="{{ \'home.productsFilterInputPlaceholder\' | translate }}"></div></div><div class="section no-padding"><div class=root-node ng-repeat="node in vm.productTree" ng-include="\'app/treenode/treenode.html\'"></div></div></div></div><div class=col-sm-8><div class="card fluid">Content</div></div></div></div><div id=nodeFormModal class="modal hidden">\x3c!-- <div class="modal-arrow"></div> --\x3e<div class="card large"><div class="header section"><h3 class=modal-title>{{ \'home.newProductNodeTitle\' | translate }}</h3><i class="material-icons modal-close" ng-click=vm.closeNodeFormModal()>close</i></div><div class=section><div class=row><div class=col-sm-4><label for=node-id>{{ \'home.newProductIdLabel\' | translate }}</label></div><div class=col-sm><input type=text id=node-id ng-model=vm.nodeForm.id ng-disabled="vm.nodeFormAction == \'edit\'" required placeholder="{{ \'home.newProductIdPlaceholder\' | translate }}"></div></div><div class=row><div class=col-sm-4><label for=node-description>{{ \'home.newProductDescriptionLabel\' | translate }}</label></div><div class=col-sm><input type=text id=node-description ng-model=vm.nodeForm.description required placeholder="{{ \'home.newProductDescriptionPlaceholder\' | translate }}"></div></div><div class=row><div class=col-sm-4><label for=node-aditionalinfo>{{ \'home.newProductAditionalInfoLabel\' | translate }}</label></div><div class=col-sm><textarea id=node-aditionalinfo ng-model=vm.nodeForm.aditionalInfo rows=5 placeholder="{{ \'home.newProductAditionalInfoPlaceholder\' | translate }}"></textarea></div></div><div class=row><div class=col-sm style="text-align: right"><button class=primary ng-click=vm.submitNodeFormModal()>{{ \'home.newProductButtonCreate\' | translate }}</button></div></div></div></div></div>'),e.put("app/treenode/treenode.html",'<div class=tree-node ng-show=node.filter(vm.nodeFilter) ng-class="node.expanded ? \'expanded\' :\'collapsed\'"><div class=node-content ng-click=vm.selectNode(node) ng-class="{\'selected\': vm.isNodeSelected(node)}"><div ng-click=node.toggle() class=node-toggle ng-if="node.children.length > 0"></div><div class="node-link tooltip no-border right" aria-label="{{node.id}} - {{node.description}} {{node.aditionalInfo}}">{{node.description}}</div></div><div class=node-children ng-include src="\'app/treenode/treenode.html\'" class=children ng-repeat="node in node.children"></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-9aa2ed7dae.js.map
